---
import { Image } from 'astro:assets';
import { getImage } from 'astro:assets';

import Button from './Button.astro';

import ensoCircle from '../../public/enso-circle.webp';
import githubIcon from '../../public/github.webp';
import linkedinIcon from '../../public/linkedin.webp';
import resume from '../../public/resume.pdf';
import wave from '../../public/wave.webp';

const optimizedBackground = await getImage({
  src: wave,
  format: 'webp',
});
---

<footer
  class='bg-cover bg-center bg-no-repeat text-white'
  style={`background-image: url(${optimizedBackground.src});`}
>
  <div
    class='flex flex-col items-center gap-6 px-4 py-10 lg:flex-row lg:justify-between lg:px-20 lg:py-5'
  >
    <Image
      class='h-32 w-32 lg:order-1 invert'
      src={ensoCircle}
      alt='Enso Circle Logo'
    />

    <div class='flex flex-col items-center gap-6'>
      <a
        class='footer-contact-button flex min-w-12 items-center gap-2 rounded-sm px-4 py-2 border-2 bg-black text-white border-white text-[12px] font-bold uppercase tracking-widest'
        href='mailto:joe.ngyn7@gmail.com'
      >
        Contact
      </a>
      <div class='flex justify-end gap-3 opacity-100'>
        <a
          target='_blank'
          rel='noopener noreferrer'
          href='https://www.linkedin.com/in/joengyn/'
          aria-label='Visit LinkedIn profile'
        >
          <Image
            class='h-10 w-10 brightness-100 invert filter'
            src={linkedinIcon}
            alt='LinkedIn Icon'
          />
        </a>
        <a
          target='_blank'
          rel='noopener noreferrer'
          href='https://github.com/joengyn/'
          aria-label='Visit GitHub profile'
        >
          <Image
            class='h-10 w-10 invert filter'
            src={githubIcon}
            alt='GitHub Icon'
          /></a
        >
      </div>
    </div>

    <div class='flex flex-col items-center gap-6'>
      <div class='flex justify-end gap-3'>
        <a class="footer-link" href='/'>work</a>
        <a class="footer-link" href='/about'>about</a>
        <a class="footer-link" target='_blank' href={resume}>resume</a>
      </div>

      <div class='flex flex-col items-center text-center lg:justify-end'>
        <span>Designed and Developed by Joe Nguyen</span>
        <span>Â© 2025 | All Rights Reserved</span>
      </div>
    </div>
  </div>
</footer>

<style>
  /* Footer links hover effect */
  .footer-link {
    position: relative;
    transition: opacity 200ms ease-out;
  }

  .footer-link:hover {
    opacity: 0.8;
  }

  .footer-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: currentColor;
    transition: width 250ms ease-out;
  }

  .footer-link:hover::after {
    width: 100%;
  }

  /* Social icons hover effect */
  a[aria-label='Visit LinkedIn profile'],
  a[aria-label='Visit GitHub profile'] {
    transition: transform 200ms ease-out, opacity 200ms ease-out;
  }

  a[aria-label='Visit LinkedIn profile']:hover,
  a[aria-label='Visit GitHub profile']:hover {
    transform: scale(1.1) translateY(-2px);
    opacity: 0.9;
  }

  a[aria-label='Visit LinkedIn profile']:active,
  a[aria-label='Visit GitHub profile']:active {
    transform: scale(0.95);
  }

  /* Contact button hover */
  .footer-contact-button {
    transition: all 250ms ease-out;
  }

  .footer-contact-button:hover {
    box-shadow: 0 4px 12px rgba(250, 248, 243, 0.2);
    transform: translateY(-2px);
  }

  .footer-contact-button:active {
    transform: scale(0.98);
  }

  /* Focus states */
  .footer-link:focus-visible {
    outline: 2px solid #FAF8F3; /* white */
    outline-offset: 4px;
    border-radius: 2px;
  }

  a[aria-label='Visit LinkedIn profile']:focus-visible,
  a[aria-label='Visit GitHub profile']:focus-visible {
    outline: 2px solid #FAF8F3; /* white */
    outline-offset: 4px;
    border-radius: 2px;
  }

  .footer-contact-button:focus-visible {
    outline: 2px solid #FAF8F3; /* white */
    outline-offset: 4px;
  }
</style>
