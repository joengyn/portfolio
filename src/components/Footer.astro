---
import { Image } from 'astro:assets';
import { getImage } from 'astro:assets';

import Button from './Button.astro';

import whiteCircle from '../../public/circle-white.webp';
import githubIcon from '../../public/github.webp';
import linkedinIcon from '../../public/linkedin.webp';
import resume from '../../public/resume.pdf';
import wave from '../../public/wave.webp';

const optimizedBackground = await getImage({
  src: wave,
  format: 'webp',
});
---

<footer
  class='bg-cover bg-center bg-no-repeat text-pearl'
  style={`background-image: url(${optimizedBackground.src});`}
>
  <div
    class='flex flex-col items-center gap-6 px-4 py-10 lg:flex-row lg:justify-between lg:px-20 lg:py-5'
  >
    <Image
      class='h-32 w-32 lg:order-1'
      src={whiteCircle}
      alt='Enso Circle Logo'
    />

    <div class='flex flex-col items-center gap-6'>
      <a
        class='footer-contact-button flex min-w-12 items-center gap-2 rounded-sm border-2 border-pearl px-4 py-2 shadow-[3px_3px_0px_1px] shadow-pearl bg-darkGray text-[12px] font-bold uppercase tracking-widest text-pearl'
        href='mailto:joe.ngyn7@gmail.com'
      >
        Contact
      </a>
      <div class='flex justify-end gap-3 opacity-100'>
        <a
          target='_blank'
          rel='noopener noreferrer'
          href='https://www.linkedin.com/in/joengyn/'
          aria-label='Visit LinkedIn profile'
        >
          <Image
            class='h-10 w-10 brightness-100 invert filter'
            src={linkedinIcon}
            alt='LinkedIn Icon'
          />
        </a>
        <a
          target='_blank'
          rel='noopener noreferrer'
          href='https://github.com/joengyn/'
          aria-label='Visit GitHub profile'
        >
          <Image
            class='h-10 w-10 invert filter'
            src={githubIcon}
            alt='GitHub Icon'
          /></a
        >
      </div>
    </div>

    <div class='flex flex-col items-center gap-6'>
      <div class='flex justify-end gap-3'>
        <a class="footer-link" href='/'>work</a>
        <a class="footer-link" href='/about'>about</a>
        <a class="footer-link" target='_blank' href={resume}>resume</a>
      </div>

      <div class='flex flex-col items-center text-center lg:justify-end'>
        <span>Designed and Developed by Joe Nguyen</span>
        <span>Â© 2025 | All Rights Reserved</span>
      </div>
    </div>
  </div>
</footer>

<style>
  .footer-link:focus-visible {
    outline: 2px solid #FAF8F3; /* pearl */
    outline-offset: 4px;
    border-radius: 2px;
  }

  a[aria-label='Visit LinkedIn profile']:focus-visible,
  a[aria-label='Visit GitHub profile']:focus-visible {
    outline: 2px solid #FAF8F3; /* pearl */
    outline-offset: 4px;
    border-radius: 2px;
  }

  .footer-contact-button:focus-visible {
    outline: 2px solid #FAF8F3; /* pearl */
    outline-offset: 4px;
  }
</style>
